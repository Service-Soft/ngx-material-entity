<div [ngSwitch]="type" *ngIf="!(hideOmitForCreate && metadata.omitForCreate) && !(hideOmitForEdit && metadata.omitForUpdate)">
    <!-------------------------------------------->
    <!-----------------Strings-------------------->
    <!-------------------------------------------->
    <div *ngSwitchCase="DecoratorTypes.STRING">
        <string-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </string-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.STRING_TEXTBOX">
        <string-textbox-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </string-textbox-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.STRING_AUTOCOMPLETE">
        <string-autocomplete-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </string-autocomplete-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.STRING_DROPDOWN">
        <string-dropdown-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </string-dropdown-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.STRING_PASSWORD">
        <string-password-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </string-password-input>
    </div>

    <!-------------------------------------------->
    <!-----------------Booleans------------------->
    <!-------------------------------------------->
    <div *ngSwitchCase="DecoratorTypes.BOOLEAN_CHECKBOX">
        <boolean-checkbox-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </boolean-checkbox-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.BOOLEAN_TOGGLE">
        <boolean-toggle-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </boolean-toggle-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.BOOLEAN_DROPDOWN">
        <boolean-dropdown-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </boolean-dropdown-input>
    </div>

    <!-------------------------------------------->
    <!------------------Numbers------------------->
    <!-------------------------------------------->
    <div *ngSwitchCase="DecoratorTypes.NUMBER">
        <number-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </number-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.NUMBER_DROPDOWN">
        <number-dropdown-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </number-dropdown-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.NUMBER_SLIDER">
        <number-slider-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </number-slider-input>
    </div>

    <!-------------------------------------------->
    <!-------------------Array-------------------->
    <!-------------------------------------------->
    <div *ngSwitchCase="DecoratorTypes.ARRAY_DATE">
        <array-date-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </array-date-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.ARRAY_DATE_TIME">
        <array-date-time-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </array-date-time-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.ARRAY_DATE_RANGE">
        <array-date-range-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </array-date-range-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.ARRAY_STRING_CHIPS">
        <array-string-chips-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </array-string-chips-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.ARRAY_STRING_AUTOCOMPLETE_CHIPS">
        <array-string-autocomplete-chips
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </array-string-autocomplete-chips>
    </div>

    <!-------------------------------------------->
    <!-------------------Dates-------------------->
    <!-------------------------------------------->
    <div *ngSwitchCase="DecoratorTypes.DATE">
        <date-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </date-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.DATE_RANGE">
        <date-range-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </date-range-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.DATE_TIME">
        <date-time-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </date-time-input>
    </div>

    <!-------------------------------------------->
    <!-------------------Files-------------------->
    <!-------------------------------------------->
    <div *ngSwitchCase="DecoratorTypes.FILE_DEFAULT">
        <file-default-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </file-default-input>
    </div>
    <div *ngSwitchCase="DecoratorTypes.FILE_IMAGE">
        <file-image-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </file-image-input>
    </div>

    <!-------------------------------------------->
    <!-------------- references many ------------->
    <!-------------------------------------------->
    <div *ngSwitchCase="DecoratorTypes.REFERENCES_MANY">
        <references-many-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </references-many-input>
    </div>

    <!-------------------------------------------->
    <!-------------------Custom------------------->
    <!-------------------------------------------->
    <div *ngSwitchCase="DecoratorTypes.CUSTOM">
        <custom-input
            (inputChangeEvent)="emitChange()"
            [entity]="internalEntity"
            [key]="internalPropertyKey"
            [getValidationErrorMessage]="internalGetValidationErrorMessage"
            [isReadOnly]="internalIsReadOnly"
        >
        </custom-input>
    </div>

    <!-------------------------------------------->
    <!-------------------Object------------------->
    <!-------------------------------------------->
    <div *ngSwitchCase="DecoratorTypes.OBJECT">
        <b>{{metadataDefaultObject.displayName}}</b>
        <!-- iterates over the object properties -->
        <mat-tab-group *ngIf="objectPropertyTabs.length > 1" preserveContent>
            <mat-tab *ngFor="let tab of objectPropertyTabs; let tI = index; trackBy: trackByFn" [label]="tab.tabName">
                <div class="row" *ngFor="let row of tab.rows;">
                    <ngx-mat-entity-input *ngFor="let key of row.keys; let rI = index; trackBy: trackByFn"
                        [entity]="objectProperty"
                        [propertyKey]="key"
                        [getValidationErrorMessage]="internalGetValidationErrorMessage"
                        [hideOmitForCreate]="hideOmitForCreate"
                        [hideOmitForEdit]="hideOmitForEdit"
                        [validEmpty]="!metadata.required"
                        [isReadOnly]="isPropertyReadOnly(objectProperty, key)"
                        class="col-lg-{{EntityUtilities.getWidth(objectProperty, key, 'lg')}} col-md-{{EntityUtilities.getWidth(objectProperty, key, 'md')}} col-sm-{{EntityUtilities.getWidth(objectProperty, key, 'sm')}}"
                        (inputChangeEvent)="emitChange()"
                    >
                    </ngx-mat-entity-input>
                </div>
            </mat-tab>
        </mat-tab-group>

        <div *ngIf="objectPropertyTabs.length <= 1">
            <div class="row" *ngFor="let row of objectPropertyTabs[0].rows">
                <ngx-mat-entity-input *ngFor="let key of row.keys; let i = index; trackBy: trackByFn"
                    [entity]="objectProperty"
                    [propertyKey]="key"
                    [getValidationErrorMessage]="internalGetValidationErrorMessage"
                    [hideOmitForCreate]="hideOmitForCreate"
                    [hideOmitForEdit]="hideOmitForEdit"
                    [validEmpty]="!metadata.required"
                    [isReadOnly]="isPropertyReadOnly(objectProperty, key)"
                    class="col-lg-{{EntityUtilities.getWidth(objectProperty, key, 'lg')}} col-md-{{EntityUtilities.getWidth(objectProperty, key, 'md')}} col-sm-{{EntityUtilities.getWidth(objectProperty, key, 'sm')}}"
                    (inputChangeEvent)="emitChange()"
                >
                </ngx-mat-entity-input>
            </div>
        </div>
    </div>

    <!-------------------------------------------->
    <!-------------------Array-------------------->
    <!-------------------------------------------->
    <div class="entityArray" *ngSwitchCase="DecoratorTypes.ARRAY">
        <div class="mat-elevation-z8 elevation-container">
            <div class="array-headline">
                <b>{{metadataEntityArray.displayName}}</b>
            </div>
            <div *ngIf="metadataEntityArray.createInline && !internalIsReadOnly">
                <mat-tab-group *ngIf="arrayItemInlineTabs.length > 1" preserveContent>
                    <mat-tab *ngFor="let tab of arrayItemInlineTabs" [label]="tab.tabName">
                        <div class="row" *ngFor="let row of tab.rows">
                            <ngx-mat-entity-input
                                *ngFor="let key of row.keys; let i = index; trackBy: trackByFn"
                                [entity]="arrayItem"
                                [propertyKey]="key"
                                [hideOmitForCreate]="true"
                                [getValidationErrorMessage]="internalGetValidationErrorMessage"
                                class="col-lg-{{EntityUtilities.getWidth(arrayItem, key, 'lg')}} col-md-{{EntityUtilities.getWidth(arrayItem, key, 'md')}} col-sm-{{EntityUtilities.getWidth(arrayItem, key, 'sm')}}"
                                (inputChangeEvent)="checkIsArrayItemValid()"
                            >
                            </ngx-mat-entity-input>
                        </div>
                    </mat-tab>
                </mat-tab-group>

                <div *ngIf="arrayItemInlineTabs.length <= 1">
                    <div class="row" *ngFor="let row of arrayItemInlineTabs[0].rows">
                        <ngx-mat-entity-input
                            *ngFor="let key of row.keys; let i = index; trackBy: trackByFn"
                            [entity]="arrayItem"
                            [propertyKey]="key"
                            [hideOmitForCreate]="true"
                            [getValidationErrorMessage]="internalGetValidationErrorMessage"
                            class="col-lg-{{EntityUtilities.getWidth(arrayItem, key, 'lg')}} col-md-{{EntityUtilities.getWidth(arrayItem, key, 'md')}} col-sm-{{EntityUtilities.getWidth(arrayItem, key, 'sm')}}"
                            (inputChangeEvent)="checkIsArrayItemValid()"
                        >
                        </ngx-mat-entity-input>
                    </div>
                </div>
            </div>

            <div class="buttons" *ngIf="!internalIsReadOnly">
                <button type="button" mat-raised-button
                    [disabled]="metadataEntityArray.createInline && !isArrayItemValid"
                    (click)="addEntity()">
                    {{metadataEntityArray.addButtonLabel}}
                </button>
                <button type="button" mat-raised-button
                    [disabled]="!entityArraySelection.selected.length"
                    (click)="removeFromEntityArray()">
                    {{metadataEntityArray.removeButtonLabel}}
                </button>
            </div>
        
            <mat-table [dataSource]="entityArrayDataSource">
                <!-- select Column -->
                <ng-container matColumnDef="select" *ngIf="!internalIsReadOnly">
                    <mat-header-cell *matHeaderCellDef>
                        <mat-checkbox
                            [disabled]="!entityArrayDataSource.data.length" (change)="$event ? SelectionUtilities.masterToggle(entityArraySelection, entityArrayDataSource) : null"
                            [checked]="entityArraySelection.hasValue() && SelectionUtilities.isAllSelected(entityArraySelection, entityArrayDataSource)"
                            [indeterminate]="entityArraySelection.hasValue() && !SelectionUtilities.isAllSelected(entityArraySelection, entityArrayDataSource)">
                        </mat-checkbox>
                    </mat-header-cell>
                    <mat-cell *matCellDef="let entity">
                        <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? entityArraySelection.toggle(entity) : null" [checked]="entityArraySelection.isSelected(entity)"></mat-checkbox>
                    </mat-cell>
                </ng-container>
            
                <ng-container *ngFor="let dCol of metadataEntityArray.displayColumns" [matColumnDef]="dCol.displayName">
                    <mat-header-cell *matHeaderCellDef>
                        {{dCol.displayName}}
                    </mat-header-cell>
                    <mat-cell (click)="editArrayItem(entity)" class="entity" *matCellDef="let entity">
                        {{getDisplayColumnValue(entity, dCol)}}
                    </mat-cell>
                </ng-container>
            
                <mat-header-row *matHeaderRowDef="entityArrayDisplayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: entityArrayDisplayedColumns"></mat-row>
            </mat-table>
        
            <div class="array-error" *ngIf="metadataEntityArray.required && !entityArrayDataSource.data.length">
                {{metadataEntityArray.missingErrorMessage}}
            </div>
        </div>
    </div>

    <!-------------------------------------------->
    <!------------------ has many ---------------->
    <!-------------------------------------------->
    <div class="hasMany" *ngSwitchCase="DecoratorTypes.HAS_MANY">
        <h2 class="title">{{metadataHasMany.tableData.baseData.title}}</h2>

        <div class="row">
            <mat-form-field class="col-lg-8 col-md-6 col-sm-12">
                <mat-label>{{metadataHasMany.tableData.baseData.searchLabel}}</mat-label>
                <input matInput (keyup)="applyHasManyFilter($event)">
            </mat-form-field>
            <div
                *ngIf="metadataHasMany.tableData.baseData.tableActions.length"
                [class.col-lg-2]="metadataHasMany.tableData.baseData.allowCreate()"
                [class.col-lg-4]="!metadataHasMany.tableData.baseData.allowCreate()"
                [class.col-md-3]="metadataHasMany.tableData.baseData.allowCreate()"
                [class.col-md-6]="!metadataHasMany.tableData.baseData.allowCreate()"
                [class.col-sm-6]="metadataHasMany.tableData.baseData.allowCreate()"
                [class.col-sm-12]="!metadataHasMany.tableData.baseData.allowCreate()"
            >
                <button type="button" class="actions-button" [matMenuTriggerFor]="menu" mat-raised-button>
                    {{metadataHasMany.tableData.baseData.tableActionsLabel}}
                </button>
            </div>
            <mat-menu #menu="matMenu">
                <button *ngIf="metadataHasMany.tableData.baseData.allowJsonImport" type="button" [disabled]="hasManyTableActionDisabled(hasManyImportAction)" (click)="runHasManyTableAction(hasManyImportAction)" mat-menu-item>
                    {{hasManyImportAction.displayName}}
                </button>
                <button type="button" *ngFor="let action of metadataHasMany.tableData.baseData.tableActions" [disabled]="hasManyTableActionDisabled(action)" (click)="runHasManyTableAction(action)" mat-menu-item>
                    {{action.displayName}}
                </button>
            </mat-menu>

            <div
                *ngIf="metadataHasMany.tableData.baseData.allowCreate()"
                [class.col-lg-2]="metadataHasMany.tableData.baseData.tableActions.length"
                [class.col-lg-4]="!metadataHasMany.tableData.baseData.tableActions.length"
                [class.col-md-3]="metadataHasMany.tableData.baseData.tableActions.length"
                [class.col-md-6]="!metadataHasMany.tableData.baseData.tableActions.length"
                [class.col-sm-6]="metadataHasMany.tableData.baseData.tableActions.length"
                [class.col-sm-12]="!metadataHasMany.tableData.baseData.tableActions.length"
            >
                <button type="button" class="create-button" (click)="createHasManyEntity()" mat-raised-button>
                    {{metadataHasMany.tableData.baseData.createButtonLabel}}
                </button>
            </div>
        </div>

        <div class="mat-elevation-z8 elevation-container">
            <mat-table [dataSource]="hasManyDataSource" matSort>
                <!-- select Column -->
                <ng-container matColumnDef="select">
                    <mat-header-cell *matHeaderCellDef>
                        <mat-checkbox (change)="$event ? SelectionUtilities.masterToggle(hasManySelection, hasManyDataSource) : null" [checked]="hasManySelection.hasValue() && SelectionUtilities.isAllSelected(hasManySelection, hasManyDataSource)" [indeterminate]="hasManySelection.hasValue() && !SelectionUtilities.isAllSelected(hasManySelection, hasManyDataSource)"> </mat-checkbox>
                    </mat-header-cell>
                    <mat-cell *matCellDef="let entity" class="entity">
                        <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? hasManySelection.toggle(entity) : null" [checked]="hasManySelection.isSelected(entity)"> </mat-checkbox>
                    </mat-cell>
                </ng-container>

                <ng-container *ngFor="let dCol of metadataHasMany.tableData.baseData.displayColumns" [matColumnDef]="dCol.displayName">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{dCol.displayName}}
                    </mat-header-cell>
                    <mat-cell class="entity" [class.enabled]="metadataHasMany.tableData.baseData.allowUpdate(entity) || metadataHasMany.tableData.baseData.allowRead(entity)" (click)="editHasManyEntity(entity)" *matCellDef="let entity">
                        {{getDisplayColumnValue(entity, dCol)}}
                    </mat-cell>
                </ng-container>

                <mat-header-row *matHeaderRowDef="displayedHasManyColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedHasManyColumns"></mat-row>
            </mat-table>

            <mat-spinner *ngIf="hasManyIsLoading && metadataHasMany.tableData.baseData.displayLoadingSpinner" style="margin-left: auto; margin-right: auto; margin-top: 10px; margin-bottom: 10px;">
            </mat-spinner>

            <mat-paginator [length]="hasManyDataSource.filteredData.length" [pageIndex]="0" [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 50]"></mat-paginator>
        </div>
    </div>

    <div *ngSwitchDefault>ERROR: The type {{type}} is not known.</div>
</div>











































<!--------------------------------------------------------->
<!--------------------Add Array Item Dialog---------------->
<!--------------------------------------------------------->
<ng-template #addArrayItemDialog>
    <div class="mat-dialog-title">
        <div>{{addArrayItemDialogData.title}}</div>
    </div>

    <form>
        <mat-dialog-content>
            <mat-tab-group *ngIf="arrayItemDialogTabs.length > 1" preserveContent>
                <mat-tab *ngFor="let tab of arrayItemDialogTabs" [label]="tab.tabName">
                    <div class="row" *ngFor="let row of tab.rows">
                        <ngx-mat-entity-input
                            *ngFor="let key of row.keys"
                            [entity]="arrayItem"
                            [propertyKey]="key"
                            [hideOmitForCreate]="true"
                            [getValidationErrorMessage]="internalGetValidationErrorMessage"
                            class="col-lg-{{EntityUtilities.getWidth(arrayItem, key, 'lg')}} col-md-{{EntityUtilities.getWidth(arrayItem, key, 'md')}} col-sm-{{EntityUtilities.getWidth(arrayItem, key, 'sm')}}"
                            (inputChangeEvent)="checkIsArrayItemValid()"
                        >
                        </ngx-mat-entity-input>
                    </div>
                </mat-tab>
            </mat-tab-group>
    
            <div *ngIf="arrayItemDialogTabs.length <= 1">
                <div class="row" *ngFor="let row of arrayItemDialogTabs[0].rows">
                    <ngx-mat-entity-input
                        *ngFor="let key of row.keys"
                        [entity]="arrayItem"
                        [propertyKey]="key"
                        [hideOmitForCreate]="true"
                        [getValidationErrorMessage]="internalGetValidationErrorMessage"
                        class="col-lg-{{EntityUtilities.getWidth(arrayItem, key, 'lg')}} col-md-{{EntityUtilities.getWidth(arrayItem, key, 'md')}} col-sm-{{EntityUtilities.getWidth(arrayItem, key, 'sm')}}"
                        (inputChangeEvent)="checkIsArrayItemValid()"
                    >
                    </ngx-mat-entity-input>
                </div>
            </div>
        </mat-dialog-content>
    
        <mat-dialog-actions>
            <button type="submit" mat-raised-button (click)="addArrayItem()" [disabled]="!isArrayItemValid">
                {{addArrayItemDialogData.createButtonLabel}}
            </button>
            <button type="button" mat-raised-button (click)="closeAddArrayItemDialog()" class="cancel-button">
                {{addArrayItemDialogData.cancelButtonLabel}}
            </button>
        </mat-dialog-actions>
    </form>

</ng-template>

<!--------------------------------------------------------->
<!--------------------Edit Array Item Dialog---------------->
<!--------------------------------------------------------->
<ng-template #editArrayItemDialog>
    <div class="mat-dialog-title">
        <div>{{editArrayItemDialogData.title(arrayItemPriorChanges)}}</div>
    </div>
    
    <form>
        <mat-dialog-content>
            <mat-tab-group *ngIf="arrayItemDialogTabs.length > 1" preserveContent>
                <mat-tab *ngFor="let tab of arrayItemDialogTabs" [label]="tab.tabName">
                    <div class="row" *ngFor="let row of tab.rows">
                        <ngx-mat-entity-input
                            *ngFor="let key of row.keys"
                            [entity]="arrayItem"
                            [propertyKey]="key"
                            [hideOmitForEdit]="true"
                            class="col-lg-{{EntityUtilities.getWidth(arrayItem, key, 'lg')}} col-md-{{EntityUtilities.getWidth(arrayItem, key, 'md')}} col-sm-{{EntityUtilities.getWidth(arrayItem, key, 'sm')}}"
                            (inputChangeEvent)="checkArrayItem()"
                            [isReadOnly]="isPropertyReadOnly(arrayItem, key)"
                        >
                        </ngx-mat-entity-input>
                    </div>
                </mat-tab>
            </mat-tab-group>
        
            <div *ngIf="arrayItemDialogTabs.length <= 1">
                <div class="row" *ngFor="let row of arrayItemDialogTabs[0].rows">
                    <ngx-mat-entity-input
                        *ngFor="let key of row.keys"
                        [entity]="arrayItem"
                        [propertyKey]="key"
                        [hideOmitForEdit]="true"
                        class="col-lg-{{EntityUtilities.getWidth(arrayItem, key, 'lg')}} col-md-{{EntityUtilities.getWidth(arrayItem, key, 'md')}} col-sm-{{EntityUtilities.getWidth(arrayItem, key, 'sm')}}"
                        (inputChangeEvent)="checkArrayItem()"
                        [isReadOnly]="isPropertyReadOnly(arrayItem, key)"
                    >
                    </ngx-mat-entity-input>
                </div>
            </div>
        </mat-dialog-content>
        
        <mat-dialog-actions>
            <button type="submit" (click)="saveArrayItem()" mat-raised-button [disabled]="internalIsReadOnly || !isArrayItemValid || !isArrayItemDirty">
                {{editArrayItemDialogData.confirmButtonLabel}}
            </button>
            <button type="button" mat-raised-button (click)="closeEditArrayItemDialog()" class="cancel-button">
                {{editArrayItemDialogData.cancelButtonLabel}}
            </button>
        </mat-dialog-actions>
    </form>
</ng-template>

<!--------------------------------------------------------->
<!--------------------Create Has Many Dialog---------------->
<!--------------------------------------------------------->
<ng-template #createHasManyDialog>
    <div class="mat-dialog-title">
        <div>{{metadataHasMany.tableData.createDialogData.title}}</div>
    </div>
    
    <form>
        <mat-dialog-content>
            <mat-tab-group *ngIf="hasManyCreateTabs.length > 1" preserveContent>
                <mat-tab *ngFor="let tab of hasManyCreateTabs" [label]="tab.tabName">
                    <div class="row" *ngFor="let row of tab.rows">
                        <ngx-mat-entity-input
                            *ngFor="let key of row.keys"
                            [entity]="hasManyEntity"
                            [propertyKey]="key"
                            [hideOmitForCreate]="true"
                            class="col-lg-{{EntityUtilities.getWidth(hasManyEntity, key, 'lg')}} col-md-{{EntityUtilities.getWidth(hasManyEntity, key, 'md')}} col-sm-{{EntityUtilities.getWidth(hasManyEntity, key, 'sm')}}"
                            (inputChangeEvent)="checkIsHasManyEntityValid('create')"
                        >
                        </ngx-mat-entity-input>
                    </div>
                </mat-tab>
            </mat-tab-group>
        
            <div *ngIf="hasManyCreateTabs.length <= 1">
                <div class="row" *ngFor="let row of hasManyCreateTabs[0].rows">
                    <ngx-mat-entity-input
                        *ngFor="let key of row.keys"
                        [entity]="hasManyEntity"
                        [propertyKey]="key"
                        [hideOmitForCreate]="true"
                        class="col-lg-{{EntityUtilities.getWidth(hasManyEntity, key, 'lg')}} col-md-{{EntityUtilities.getWidth(hasManyEntity, key, 'md')}} col-sm-{{EntityUtilities.getWidth(hasManyEntity, key, 'sm')}}"
                        (inputChangeEvent)="checkIsHasManyEntityValid('create')"
                    >
                    </ngx-mat-entity-input>
                </div>
            </div>
        </mat-dialog-content>
        
        <mat-dialog-actions>
            <button type="submit" (click)="dialogCreateHasMany()" mat-raised-button [disabled]="!isHasManyEntityValid">
                {{metadataHasMany.tableData.createDialogData.createButtonLabel}}
            </button>
            <button type="button" mat-raised-button (click)="dialogCancelCreateHasMany()" class="cancel-button">
                {{metadataHasMany.tableData.createDialogData.cancelButtonLabel}}
            </button>
        </mat-dialog-actions>
    </form>
    
</ng-template>

<ng-template #editHasManyDialog>
    <div class="mat-dialog-title">
        <div>{{metadataHasMany.tableData.editData.title(hasManyEntityPriorChanges)}}</div>
        <button type="button" *ngIf="metadataHasMany.tableData.baseData.allowDelete(hasManyEntity)" mat-raised-button (click)="deleteHasManyEntity()" color="warn" class="delete-button" tabindex="-1">
            {{metadataHasMany.tableData.editData.deleteButtonLabel}}
        </button>
    </div>
    
    <form>
        <mat-dialog-content>
            <mat-tab-group *ngIf="hasManyUpdateTabs.length > 1" preserveContent>
                <mat-tab *ngFor="let tab of hasManyUpdateTabs" [label]="tab.tabName">
                    <div class="row" *ngFor="let row of tab.rows">
                        <ngx-mat-entity-input
                            *ngFor="let key of row.keys"
                            [entity]="hasManyEntity"
                            [propertyKey]="key"
                            [hideOmitForEdit]="true"
                            class="col-lg-{{EntityUtilities.getWidth(hasManyEntity, key, 'lg')}} col-md-{{EntityUtilities.getWidth(hasManyEntity, key, 'md')}} col-sm-{{EntityUtilities.getWidth(hasManyEntity, key, 'sm')}}"
                            (inputChangeEvent)="checkHasManyEntity()"
                            [isReadOnly]="isPropertyReadOnly(hasManyEntity, key)"
                        >
                        </ngx-mat-entity-input>
                    </div>
                </mat-tab>
            </mat-tab-group>
        
            <div *ngIf="hasManyUpdateTabs.length <= 1">
                <div class="row" *ngFor="let row of hasManyUpdateTabs[0].rows">
                    <ngx-mat-entity-input
                        *ngFor="let key of row.keys"
                        [entity]="hasManyEntity"
                        [propertyKey]="key"
                        [hideOmitForEdit]="true"
                        class="col-lg-{{EntityUtilities.getWidth(hasManyEntity, key, 'lg')}} col-md-{{EntityUtilities.getWidth(hasManyEntity, key, 'md')}} col-sm-{{EntityUtilities.getWidth(hasManyEntity, key, 'sm')}}"
                        (inputChangeEvent)="checkHasManyEntity()"
                        [isReadOnly]="isPropertyReadOnly(hasManyEntity, key)"
                    >
                    </ngx-mat-entity-input>
                </div>
            </div>
        </mat-dialog-content>
        
        <mat-dialog-actions>
            <button type="submit" (click)="dialogEditHasMany()" mat-raised-button [disabled]="internalIsReadOnly || !isHasManyEntityValid || !isHasManyEntityDirty">
                {{metadataHasMany.tableData.editData.confirmButtonLabel}}
            </button>
            <button type="button" mat-raised-button (click)="dialogCancelEditHasMany()" class="cancel-button">
                {{metadataHasMany.tableData.editData.cancelButtonLabel}}
            </button>
        </mat-dialog-actions>
    </form>    
</ng-template>